(this["webpackJsonptweet-react"]=this["webpackJsonptweet-react"]||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),o=n.n(r),s=(n(12),n(4)),l=n(2),i=function(e){fetch("http://127.0.0.1:8000/tweets/").then((function(e){return e.json()})).then((function(t){e(t)})).catch((function(e){return alert("there was an error")}))},u=function(e,t,n,a){console.log("HI");var c=new XMLHttpRequest,r=m("csrftoken");c.open("POST","http://127.0.0.1:8000/tweet/action/"),c.setRequestHeader("Content-Type","application/json"),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("X-CSRFToken",r),console.log(e);var o=JSON.stringify({id:e,action:a,content:n});c.onload=function(){console.log("HI"),i()},c.onerror=function(e){alert("there was an error2")},c.send(o)},m=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var c=n[a].trim();if(c.substring(0,e.length+1)===e+"="){t=decodeURIComponent(c.substring(e.length+1));break}}return t},f=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),r=n[0],o=n[1],u=Object(a.useState)([]),m=Object(l.a)(u,2),f=m[0],d=m[1];return Object(a.useEffect)((function(){var t=Object(s.a)(e.newTweets).concat(r);t.length!==f.length&&d(t)}),[e.newTweets,r,f]),Object(a.useEffect)((function(){i(o)}),[]),c.a.createElement("div",{className:"App"},f.map((function(e){return c.a.createElement(v,{tweet:e,key:e.id})})))},d=function(e){var t=e.tweet;console.log(t.id);var n=Object(a.useState)(t.likes?t.likes:0),r=Object(l.a)(n,2),o=r[0];r[1];return c.a.createElement("button",{className:"btn btn-success ml-2",onClick:function(){return u(t.id,t.likes,t.content,"like")}},o," Like")},w=function(e){var t=e.tweet;return c.a.createElement("button",{className:"btn btn-danger ml-2",onClick:function(){return u(t.id,t.likes,t.content,"unlike")}},"Un Like")},b=function(e){var t=e.tweet;return c.a.createElement("button",{className:"btn btn-info m-2",onClick:function(){return u(t.id,t.likes,t.content,"retweet")}},"Re Tweet")},v=function(e){var t=e.tweet;return c.a.createElement("div",{style:{display:"inline-block"},className:"rounded m-3 col-12 col-md-5 col-lg-3 border bg-dark",id:"tweet-"+t.id},c.a.createElement("h3",{className:"text-success"},"Tweet ",t.id),c.a.createElement("div",{className:"text-info m-3"},c.a.createElement("p",null,t.content?t.content:"NO CONTENT")),c.a.createElement("div",{className:"text-danger m-3"},c.a.createElement("p",null,"Likes : ",t.likes)),c.a.createElement(d,{tweet:t}),c.a.createElement(w,{tweet:t}),c.a.createElement(b,{tweet:t}))},k=function(e){var t=c.a.createRef(),n=Object(a.useState)([]),r=Object(l.a)(n,2),o=r[0],i=r[1];return c.a.createElement("div",{className:e.className},c.a.createElement("div",{className:"m-3"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(e);var n=t.current.value,a=Object(s.a)(o);a.unshift({content:n,likes:0,id:4}),i(a),t.current.value=""},className:"col-6 offset-3"},c.a.createElement("div",{className:"justify-content-center"},c.a.createElement("textarea",{ref:t,className:"form-control",name:"tweet"}),c.a.createElement("button",{type:"submit",className:"btn btn-primary my-3"},"Tweet")))),c.a.createElement(f,{newTweets:o}))};n(13);var E=function(){return c.a.createElement(k,{className:"text-center"})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.4f27561c.chunk.js.map